{
  "Law Definition": {
    "prefix": ["law", "fn"],
    "body": [
      "law ${1:name}(${2:params})",
      "\t${3:-- body}",
      "\treply ${4:result}",
      "end"
    ],
    "description": "Define a law (pure function)"
  },
  "Forge Definition": {
    "prefix": ["forge", "action"],
    "body": [
      "forge ${1:name}(${2:params})",
      "\t${3:-- actions}",
      "end"
    ],
    "description": "Define a forge (action/mutation)"
  },
  "Blueprint (Struct)": {
    "prefix": ["blueprint", "struct", "class"],
    "body": [
      "blueprint ${1:Name}",
      "\tfield ${2:field} = ${3:default}",
      "\t",
      "\tlaw ${4:method}()",
      "\t\treply ${5:value}",
      "\tend",
      "end"
    ],
    "description": "Define a blueprint (struct/class)"
  },
  "Let Variable": {
    "prefix": "let",
    "body": "let ${1:name} = ${2:value}",
    "description": "Declare a mutable variable"
  },
  "When Constant": {
    "prefix": "when",
    "body": "when ${1:NAME} = ${2:value}",
    "description": "Declare an immutable constant"
  },
  "If Statement": {
    "prefix": "if",
    "body": [
      "if ${1:condition}",
      "\t${2:-- then}",
      "end"
    ],
    "description": "If statement"
  },
  "If-Else Statement": {
    "prefix": "ife",
    "body": [
      "if ${1:condition}",
      "\t${2:-- then}",
      "else",
      "\t${3:-- else}",
      "end"
    ],
    "description": "If-else statement"
  },
  "If-Elif-Else": {
    "prefix": "ifee",
    "body": [
      "if ${1:condition}",
      "\t${2:-- then}",
      "elif ${3:condition2}",
      "\t${4:-- elif}",
      "else",
      "\t${5:-- else}",
      "end"
    ],
    "description": "If-elif-else statement"
  },
  "For Loop": {
    "prefix": "for",
    "body": [
      "for ${1:i} in ${2:range(10)}",
      "\t${3:-- body}",
      "end"
    ],
    "description": "For loop"
  },
  "For Each": {
    "prefix": "foreach",
    "body": [
      "for ${1:item} in ${2:items}",
      "\t${3:-- body}",
      "end"
    ],
    "description": "For-each loop"
  },
  "While Loop": {
    "prefix": "while",
    "body": [
      "while ${1:condition}",
      "\t${2:-- body}",
      "end"
    ],
    "description": "While loop"
  },
  "Show/Print": {
    "prefix": ["show", "print"],
    "body": "show(${1:value})",
    "description": "Print to output"
  },
  "Step Chain": {
    "prefix": "step",
    "body": "${1:data} _${2:sort} _${3:filter}(${4:fn})",
    "description": "Step chain (pipe operations)"
  },
  "Map Step": {
    "prefix": "_map",
    "body": "_map(${1:fn})",
    "description": "Map over collection"
  },
  "Filter Step": {
    "prefix": "_filter",
    "body": "_filter(${1:fn})",
    "description": "Filter collection"
  },
  "Sort Step": {
    "prefix": "_sort",
    "body": "_sort",
    "description": "Sort collection"
  },
  "Reduce Step": {
    "prefix": "_reduce",
    "body": "_reduce(${1:fn}, ${2:initial})",
    "description": "Reduce collection"
  },
  "Array Literal": {
    "prefix": "arr",
    "body": "[${1:items}]",
    "description": "Array literal"
  },
  "Map Literal": {
    "prefix": "map",
    "body": "{${1:key}: ${2:value}}",
    "description": "Map/object literal"
  },
  "Import": {
    "prefix": "import",
    "body": "import ${1:module}",
    "description": "Import a module"
  },
  "Comment": {
    "prefix": "--",
    "body": "-- ${1:comment}",
    "description": "Line comment"
  },
  "Block Comment": {
    "prefix": "comment",
    "body": [
      "--[[",
      "${1:Multi-line comment}",
      "]]"
    ],
    "description": "Block comment"
  },
  "Main Template": {
    "prefix": "main",
    "body": [
      "-- ${1:Program description}",
      "",
      "law main()",
      "\t${2:-- entry point}",
      "\tshow(\"Hello, TinyTalk!\")",
      "end",
      "",
      "main()"
    ],
    "description": "Main program template"
  },
  "Newton Verification": {
    "prefix": "newton",
    "body": [
      "-- Newton Verification",
      "law verify(current, goal)",
      "\treply current == goal",
      "end",
      "",
      "when TRUTH = verify(${1:actual}, ${2:expected})",
      "show(\"Verified:\" TRUTH)"
    ],
    "description": "Newton verification pattern"
  }
}
